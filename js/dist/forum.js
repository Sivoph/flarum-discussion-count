(()=>{var o={n:t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},d:(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},t={};(()=>{"use strict";o.r(t);const e=flarum.core.compat["forum/app"];var n=o.n(e);const r=flarum.core.compat["common/extend"],a=flarum.core.compat["tags/components/TagLinkButton"];var c=o.n(a);const s=flarum.core.compat["tags/components/TagsPage"];var i=o.n(s);const l=flarum.core.compat["common/utils/classList"];var u=o.n(l);const d=flarum.core.compat["tags/common/helpers/tagIcon"];var p=o.n(d);const f=flarum.core.compat["common/components/Link"];var g=o.n(f);const v=flarum.core.compat["tags/common/utils/sortTags"];var h=o.n(v);n().initializers.add("datlechin/flarum-discussion-count",(function(){(0,r.override)(c().prototype,"view",(function(){var o=this.attrs.model,t=o&&o.description(),e=u()(["TagLinkButton","hasIcon",this.attrs.className,o.isChild()&&"child"]),r=n().forum.attribute("BarChart"),a={backgroundColor:o.color(),width:o.discussionCount()/r+"%",borderRadius:"3px 0px 0px 3px",padding:"5px"};return m(g(),{className:e,href:this.attrs.route,style:o?{"--color":o.color()}:"",title:t||""},m("div",{class:"bargraph",style:a},p()(o,{className:"Button-icon"}),m("span",{className:"Button-label"},o?o.name():n().translator.trans("flarum-tags.forum.index.untagged_link")," (",o.discussionCount()>1e3?"1k+":o.discussionCount(),")")))})),(0,r.extend)(i().prototype,["oncreate"],(function(){var o=this.tags;document.querySelectorAll(".TagTile-info").forEach((function(t){var e=t.querySelector(".TagTile-name").innerText,n=o.find((function(o){return o.name()===e})),r=h()(n.children()||[]),a=n.discussionCount();t.querySelectorAll(".TagTile-children a").forEach((function(o){var t=o.innerText,e=r.find((function(o){return o.name()===t})),n=e.discussionCount();o.innerText=t+" ("+n+")"})),t.querySelector(".TagTile-name").innerText+=" ("+a+")"}))}))}))})(),module.exports=t})();
//# sourceMappingURL=forum.js.map