(()=>{var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{"use strict";e.r(t);const o=flarum.core.compat["forum/app"];var n=e.n(o);const r=flarum.core.compat["common/extend"],a=flarum.core.compat["tags/components/TagLinkButton"];var c=e.n(a);const s=flarum.core.compat["tags/components/TagsPage"];var i=e.n(s);const l=flarum.core.compat["common/utils/classList"];var u=e.n(l);const d=flarum.core.compat["tags/common/helpers/tagIcon"];var f=e.n(d);const p=flarum.core.compat["common/components/Link"];var g=e.n(p);const v=flarum.core.compat["tags/common/utils/sortTags"];var T=e.n(v);n().initializers.add("datlechin/flarum-discussion-count",(function(){(0,r.override)(c().prototype,"view",(function(){var e=this.attrs.model,t=e&&e.description(),o=u()(["TagLinkButton","hasIcon",this.attrs.className,e.isChild()&&"child"]);return m(g(),{className:o,href:this.attrs.route,style:e?{"--color":e.color()}:"",title:t||""},f()(e,{className:"Button-icon"}),m("span",{className:"Button-label"},e?e.name():n().translator.trans("flarum-tags.forum.index.untagged_link")," (",e.discussionCount(),")"))})),(0,r.extend)(i().prototype,["oncreate"],(function(){var e=this.tags;document.querySelectorAll(".TagTile-info").forEach((function(t){var o=t.querySelector(".TagTile-name").innerText,n=e.find((function(e){return e.name()===o})),r=T()(n.children()||[]),a=n.discussionCount();t.querySelectorAll(".TagTile-children a").forEach((function(e){var t=e.innerText,o=r.find((function(e){return e.name()===t})),n=o.discussionCount();e.innerText=t+" ("+n+")"})),t.querySelector(".TagTile-name").innerText+=" ("+a+")"}))}))}))})(),module.exports=t})();
//# sourceMappingURL=forum.js.map